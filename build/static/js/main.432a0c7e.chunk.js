(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{215:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(30),c=n.n(r),a=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),i(t),r(t),c(t),a(t)}))},o=(n(94),n(46)),s=n(80),u=n(7),d=n(2),b=n(81),l=n.n(b).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),h={getWeather:function(t){return l.get("weather?q=".concat(t,"&appid=").concat("bc4b5b106eb4f6a33bb5c03f83e1937c","&units=metric")).then((function(t){return t.data}))}},g=n(217),m="SET-THEME",p="SET-WEATHER-DATA",j="SET-CURRENT-CITY",x="SET-REQUEST-STATUS",f="INITIALIZED-SUCCESS",F="ADD-CITY",y="REMOVE-CITY",O="CHECK-IS-SINGLE-CITY",w={themes:{light:{name:"light",styles:{primary:"#363434",background:"#FFFFFF",appBackground:"linear-gradient(180deg, rgba(155, 245, 240, 0.8) 0%, rgba(141, 240, 169, 0.8) 100%)",burger:"#333232",shadow:"4px 4px 8px 0px rgba(34, 60, 80, 0.2)",toggler:{container:"#284c54",circle:"#FFFFFF"},input:{color:"#363434",background:"#FFFFFF"},button:{color:"#FFFFFF",background:"#33cfb2;"},cities:{background:"rgba(27, 26, 26, 0.15)"}}},dark:{name:"dark",styles:{primary:"#FFFFFF",shadow:"4px 4px 8px 0px #320f52",background:"#232323",burger:"#FFFFFF",appBackground:"linear-gradient(180deg, rgba(16, 16, 16, 0.9) 0%, rgba(14, 11, 16, 0.9) 100%)",toggler:{container:"#232323",circle:"#FFFFFF"},cities:{background:"rgba(27, 26, 26, 0.95)"},input:{color:"#363434",background:"#FFFFFF"},button:{color:"#FFFFFF",background:"#4e1390"}}}},theme:{name:"dark",styles:{primary:"#FFFFFF",burger:"#FFFFFF",shadow:"4px 4px 8px 0px #320f52",background:"#232323",appBackground:"linear-gradient(180deg, rgba(16, 16, 16, 0.9) 0%, rgba(14, 11, 16, 0.9) 100%)",toggler:{container:"#232323",circle:"#FFFFFF"},cities:{background:"rgba(27, 26, 26, 0.95)"},input:{color:"#363434",background:"#FFFFFF"},button:{color:"#FFFFFF",background:"#4e1390"}}},isSingleCity:!0,currentCity:"",weather:{city:"...",status:"...",temperature:"...",imageCode:""},cities:[],initialized:!1,requestStatus:!1},k=function(t){return{type:F,city:{name:t,id:Object(g.a)()}}},C=function(t){return{type:p,weather:Object(d.a)({},t)}},S=function(t){return{type:x,requestStatus:t}},v=function(t){return{type:j,currentCity:t}},T=function(){return{type:O}},I=function(t){return function(e){return h.getWeather(t).then((function(t){if(200===t.cod){var n={city:t.name,status:t.weather[0].description,temperature:t.main.temp,imageCode:t.weather[0].icon};return e(S(!0)),n}})).then((function(t){e(C(t))})).catch((function(t){e(S(!1))}))}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return Object(d.a)(Object(d.a)({},t),{},{theme:e.theme});case p:return Object(d.a)(Object(d.a)({},t),{},{weather:e.weather});case f:return Object(d.a)(Object(d.a)({},t),{},{initialized:!0});case j:return Object(d.a)(Object(d.a)({},t),{},{currentCity:e.currentCity});case F:return Object(d.a)(Object(d.a)({},t),{},{cities:[].concat(Object(u.a)(t.cities),[e.city])});case y:return Object(d.a)(Object(d.a)({},t),{},{cities:t.cities.filter((function(t){return t.id!==e.id}))});case O:return Object(d.a)(Object(d.a)({},t),{},{isSingleCity:1===t.cities.length});case x:return Object(d.a)(Object(d.a)({},t),{},{requestStatus:e.requestStatus});default:return t}},N=Object(o.b)(D,Object(o.a)(s.a));window.store=N;var z,E,A,B,L,q,P,R,U,Y,H,M,W=N,V=n(8),J=n(3),K=n(4),Z=n(1),G=K.b.button(z||(z=Object(J.a)(["\n    display: block;\n    width: 30px;\n    cursor: pointer;\n    border: none;\n    padding: 0;\n    background-color: transparent;\n\n    span {\n        display: block;\n        width: 100%;\n        height: 3px;\n        margin-bottom: 4px;\n        border-radius: 10px;\n        background-color: ",";\n        transition: background-color .8s;\n        \n        &:last-child {\n            margin-bottom: 0;\n        }\n    }\n"])),(function(t){return t.theme.burger})),Q=function(t){return Object(Z.jsxs)(G,{theme:t.theme,className:"Burger",children:[Object(Z.jsx)("span",{}),Object(Z.jsx)("span",{}),Object(Z.jsx)("span",{})]})},$=Object(V.b)((function(t){return{theme:t.theme.styles}}),null)((function(t){return Object(Z.jsx)(Q,{theme:t.theme})})),X=function(t){return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)($,{})})},_=n(9),tt=K.b.div(E||(E=Object(J.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    background-color: ",";\n    border-radius: 10px;\n    width: 44px;\n    height: 22px;\n    cursor: pointer;\n\ttransition: background-color .8s;\n\n    .Circle {\n        background-color: ",";\n        border-radius: 50%;\n        width: 15px;\n        height: 15px;\n        margin-left: 3px;\n        transition: background-color .8s, margin .5s ease-out;\n    }\n"])),(function(t){return t.theme.toggler.container||"#000000"}),(function(t){return t.theme.toggler.circle||"#000000"})),et=function(t){var e=Object(i.useState)(!1),n=Object(_.a)(e,2),r=n[0],c=n[1];return Object(Z.jsx)(tt,{theme:t.theme,className:"Toggler",onClick:function(e){c(!r),t.toggleTheme()},children:Object(Z.jsx)("div",{className:"Circle",style:r?{marginLeft:26}:{}})})},nt=Object(V.b)((function(t){return{theme:t.theme,themes:t.themes}}),{setTheme:function(t){return{type:m,theme:t}}})((function(t){return Object(Z.jsx)(et,{theme:t.theme.styles,toggleTheme:function(){t.theme.name===t.themes.light.name?t.setTheme(t.themes.dark):t.setTheme(t.themes.light)}})})),it=K.b.header(A||(A=Object(J.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]))),rt=function(t){return Object(Z.jsxs)(it,{children:[Object(Z.jsx)(X,{}),Object(Z.jsx)(nt,{})]})},ct=K.b.div(B||(B=Object(J.a)(["\n    text-align: center;\n    margin-bottom: 75px;\n    padding-top: 100px;\n\n    .Location {\n        font-weight: 100;\n        font-size: 48px;\n        line-height: 56px;\n        margin-bottom: 40px;\n    }\n    .Img {\n        margin-right: 25px;\n    }\n    .Date {\n        font-weight: 500;\n        font-size: 24px;\n        line-height: 28px;\n        margin-left: 25px;\n\n        p {\n            margin: 10px 0;\n        }\n    }\n    .Degree {\n        font-weight: bold;\n        font-size: 72px;\n        line-height: 84px;\n    }\n    .Status {\n        font-weight: 500;\n        font-size: 20px;\n        text-transform: capitalize;\n    }\n    .Today {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-wrap: wrap;\n        margin-bottom: 40px;\n    }\n"]))),at=function(t){return Object(Z.jsxs)(ct,{className:"Info",children:[Object(Z.jsx)("div",{className:"Location",children:t.weather.city}),Object(Z.jsxs)("div",{className:"Today",children:[Object(Z.jsx)("div",{className:"Img",children:Object(Z.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather.imageCode,"@2x.png"),alt:t.weather.status})}),Object(Z.jsxs)("div",{className:"Date",children:[Object(Z.jsx)("p",{children:"".concat(t.dateData.weekday,", ").concat(t.dateData.day," ").concat(t.dateData.month)}),Object(Z.jsx)("p",{children:Object(Z.jsx)("time",{children:"".concat(t.dateData.hours,":").concat(t.dateData.minutes)})})]})]}),Object(Z.jsxs)("div",{className:"Degree",children:[Math.round(t.weather.temperature),"\xb0C"]}),Object(Z.jsx)("div",{className:"Status",children:t.weather.status})]})},ot=Object(V.b)((function(t){return{weather:t.weather}}),{})((function(t){var e=new Date,n={day:e.getDate(),weekday:new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e.getDate()),month:e.toLocaleString("default",{month:"long"}),hours:("0"+e.getHours()).slice(-2),minutes:("0"+e.getMinutes()).slice(-2)};return Object(Z.jsx)(at,{dateData:n,weather:t.weather})})),st=n(44),ut=K.b.button(L||(L=Object(J.a)(["\n    background-color: ",";\n    color: ",";\n    padding: 5px 10px;\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 1.1;\n    border: none;\n    box-shadow: ",";\n"])),(function(t){return t.itemBackground||"#FFFFFF"}),(function(t){return t.itemColor||"#000000"}),(function(t){return t.shadow||"none"})),dt=function(t){return Object(Z.jsx)(ut,Object(d.a)(Object(d.a)({},t),{},{children:t.children}))},bt=K.b.input(q||(q=Object(J.a)(["\n    background-color: ",";\n    color: ",";\n    border: none;\n    padding: 5px 10px;\n    outline-color: ",";\n    font-size: 16px;\n    line-height: 1.1;\n    box-shadow: ",";\n"])),(function(t){return t.itemBackground||"#FFFFFF"}),(function(t){return t.itemColor||"#000000"}),(function(t){return t.itemBackground||"#FFFFFF"}),(function(t){return t.shadow||"none"})),lt=function(t){return Object(Z.jsx)(bt,Object(d.a)({},t))},ht=n(45),gt=K.b.div(P||(P=Object(J.a)(["\n    margin-bottom: 30px;\n\n    input {\n        width: 66.666%;\n        &.invalid {\n            border: 1px solid red;\n        }\n    }\n\n    button {\n        width: 33.333%;\n\n        &:disabled {\n            opacity: .5;\n        }\n    }\n\n    .error {\n        color: red;\n        margin-top: 10px;\n        font-size: 16px;\n    }\n"]))),mt=function(t){var e=Object(i.useState)(!0),n=Object(_.a)(e,2),r=(n[0],n[1]),c=Object(i.useState)(""),a=Object(_.a)(c,2),o=(a[0],a[1],ht.a().shape({city:ht.b().strict().matches(/^[A-Za-z]+$/,"Please enter a city name, without numbers").typeError("Please enter a city name, without numbers").required("").max(58).min(2)}));return Object(Z.jsx)(gt,{className:"CitiesForm",children:Object(Z.jsx)(st.b,{initialValues:{city:""},validationSchema:o,onSubmit:function(e,n){!function(e,n,i){t.cities.some((function(t){return t.name===e.city}))||(t.addAndPickCity(e.city,t.requestStatus),e.city="")}(e)},children:function(e){var n=e.values,i=e.errors,c=e.isValid,a=e.dirty,o=e.touched,s=e.handleChange,u=e.handleBlur;e.isSubmitting;return Object(Z.jsxs)(st.a,{children:[Object(Z.jsx)(lt,{onBlur:function(t){u(t),r(!0)},onFocus:function(){return r(!1)},name:"city",type:"text",value:n.city,placeholder:"Enter city name",itemBackground:t.theme.input.background,itemColor:t.theme.input.color,onChange:s,className:o.city&&i.city&&"invalid"}),Object(Z.jsx)(dt,{disabled:!c&&!a,type:"submit",itemBackground:t.theme.button.background,itemColor:t.theme.button.color,shadow:t.theme.shadow,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(Z.jsx)("div",{className:"error",children:o.city&&i.city})]})}})})},pt=n.p+"static/media/remove.562b6f7b.svg",jt=K.b.li(R||(R=Object(J.a)(["\n    display: flex;\n    justify-content: space-between;\n    word-break: break-all;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 30px;\n    cursor: pointer;\n    padding: 15px 0;\n\n    .Delete {\n        width: 30px;\n        height: 30px;\n        flex-shrink: 0;\n    }\n"]))),xt=function(t){var e=t.children;return Object(Z.jsxs)(jt,{onClick:function(){t.isSingleCity&&t.currentCity===e||t.pickCity(e)},className:"Item",children:[Object(Z.jsx)("span",{children:t.children}),!t.isSingleCity&&Object(Z.jsx)("span",{className:"Delete",onClick:function(e){e.stopPropagation(),t.isSingleCity||t.removeCity(t.dataId),t.checkIsSingleCity()},children:Object(Z.jsx)("img",{src:pt,alt:"Delete city"})})]})},ft=K.b.div(U||(U=Object(J.a)(["\n    .Title {\n        font-weight: 300;\n        font-size: 36px;\n        line-height: 42px;\n        margin-bottom: 15px;\n        text-align: center;\n    }\n    .List {\n        padding: 20px;\n        border-radius: 10px;\n        background: ",";\n    }\n"])),(function(t){return t.theme.cities.background||" rgba(27, 26, 26, 0.15)"})),Ft=function(t){var e=t.cities.map((function(e){return Object(Z.jsx)(xt,{currentCity:t.currentCity,checkIsSingleCity:t.checkIsSingleCity,isSingleCity:t.isSingleCity,dataId:e.id,removeCity:t.removeCity,pickCity:t.pickCity,children:e.name},e.id)}));return Object(Z.jsxs)(ft,{className:"Cities",theme:t.theme,children:[Object(Z.jsx)("div",{className:"Title",children:"Your cities"}),Object(Z.jsx)(mt,{requestStatus:t.requestStatus,cities:t.cities,theme:t.theme,addAndPickCity:t.addAndPickCity}),Object(Z.jsx)("ul",{className:"List",children:e})]})},yt=Object(V.b)((function(t){return{theme:t.theme.styles,cities:t.cities,isSingleCity:t.isSingleCity,currentCity:t.currentCity,requestStatus:t.requestStatus}}),{pickCity:function(t){return function(e){e(v(t)),e(I(t))}},addAndPickCity:function(t){return function(e){e(function(t,e){return function(n){return h.getWeather(t).then((function(t){if(200===t.cod){var e={city:t.name,status:t.weather[0].description,temperature:t.main.temp,imageCode:t.weather[0].icon};return n(S(!0)),e}})).then((function(i){n(C(i)),n(k(t)),n(T()),e(!0)})).catch((function(t){n(S(!1)),console.warn("The city does not exist")}))}}(t))}},removeCity:function(t){return{type:y,id:t}},checkIsSingleCity:T})((function(t){return Object(Z.jsx)(Ft,Object(d.a)({},t))})),Ot=K.b.div(Y||(Y=Object(J.a)(["\n\tbackground: ",";\n\tmax-width: 800px;\n\twidth: 100%;\n\tborder-radius: 15px;\n\tpadding: 30px;\n\tmargin: 30px auto;\n"])),(function(t){return t.theme.appBackground})),wt=function(t){return Object(Z.jsxs)(Ot,{theme:t.theme,className:"App",children:[Object(Z.jsx)(rt,{}),Object(Z.jsx)(ot,{}),Object(Z.jsx)(yt,{})]})},kt=n.p+"static/media/preloader.6aaff771.svg",Ct=K.b.div(H||(H=Object(J.a)(["\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    img {\n        width: 300px;\n    }\n"]))),St=function(t){return Object(Z.jsx)(Ct,{children:Object(Z.jsx)("img",{src:kt,alt:"Loading..."})})},vt=Object(K.a)(M||(M=Object(J.a)(["\n\thtml {\n\t\tbox-sizing: border-box;\n\t}\n\n\t*,\n\t*::before,\n\t*::after {\n\t\tbox-sizing: inherit;\n\t}\n\n\tbody {\n\t\tfont-family: Roboto, sans-serif;\n\t\tfont-weight: 400;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\ttransition: color .4s ease-in-out, background-color .5s ease-in-out;\n\t}\n\n\timg {\n\t\tdisplay: flex;\n\t\tmax-width: 100%;\n\t}\n\n\ta,\n\tbutton {\n\t\tcursor: pointer;\n\t}\n\t\n\ta,\n\tbutton,\n\tinput,\n\ttextarea,\n\tspan {\n\t\tdisplay: inline-block;\n\t}\n"])),(function(t){return t.theme.primary||"#000000"}),(function(t){return t.theme.background||"#FFFFFF"})),Tt=Object(V.b)((function(t){return{theme:t.theme.styles,currentCity:t.currentCity,initialized:t.initialized}}),{initializeApp:function(t){return function(e){var n=[e(v(t)),e(I(t)),e(k(t))];Promise.all(n).then((function(){return e({type:f})}))}}})((function(t){return Object(i.useEffect)((function(){t.initializeApp("Kostanay")}),[]),t.initialized?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(wt,{theme:t.theme}),Object(Z.jsx)(vt,{theme:t.theme})]}):Object(Z.jsx)(St,{})}));c.a.render(Object(Z.jsx)(V.a,{store:W,children:Object(Z.jsx)(Tt,{})}),document.getElementById("root")),a()}},[[215,1,2]]]);
//# sourceMappingURL=main.432a0c7e.chunk.js.map